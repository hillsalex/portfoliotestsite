$(document).ready(function(){function t(t){t.click(function(t){var r=$(t.target);if(!r.hasClass("selected")){$(".color-ui-block").removeClass("selected"),r.addClass("selected");var i=r.attr("data-ui-color-code");$("[data-ui-color-change]").each(function(t,e){e=$(e),e.css(e.attr("data-ui-color-change"),i)});var o=n(i);a(Number(o[0])/255,Number(o[1])/255,Number(o[2])/255),e("bigImageCanvas",c,function(t){return Filters.changeColor(t,i)}),e("smImageCanvas1",l,function(t){return Filters.changeColor(t,i)}),e("smImageCanvas2",u,function(t){return Filters.changeColor(t,i)})}})}function e(t,e,a,r,n,i){var o=document.getElementById(t),s=(o.previousSibling.style,Filters.filterImage(a,e,r,n,i));o.width=s.width,o.height=s.height;var c=o.getContext("2d");c.putImageData(s,0,0)}function a(t,e,a){for(var n=r(),i=0;i<n.length;i++)n[i].setAttribute("diffuseColor",t+" "+e+" "+a)}function r(){return $("#main3d").find("material")}function n(t){var e=t.split("(")[1].split(")")[0];return e.split(",")}$(".color-ui-block").each(function(e,a){t($(a))});var i=$(".right-arrow"),o=$(".left-arrow"),s=$(".imageSlider");i.click(function(){var t=$($(".slider-item")[0]).outerWidth(!0);s.animate({left:"-="+t},{duration:300,easing:"swing"})}),o.click(function(){var t=$($(".slider-item")[0]).outerWidth(!0);s.animate({left:"+="+t},{duration:300,easing:"swing"})}),M_PI=3.141592,Filters={},Filters.getPixels=function(t){var e=this.getCanvas(t.width,t.height),a=e.getContext("2d");return a.drawImage(t,0,0),a.getImageData(0,0,e.width,e.height)},Filters.getCanvas=function(t,e){var a=document.createElement("canvas");return a.width=t,a.height=e,a},Filters.filterImage=function(t,e){for(var a=[this.getPixels(e)],r=2;r<arguments.length;r++)a.push(arguments[r]);return t.apply(null,a)},Filters.changeColor=function(t,e){var a=t.data,r=e.split(",");r[0]=r[0].split("(")[1],r[2]=r[2].split(")")[0];for(var n=0;n<a.length;n+=4){var i=a[n],o=a[n+1],s=a[n+2];255!=i&&255!=o&&255!=s?(a[n]=r[0],a[n+1]=r[1],a[n+2]=r[2]):a[n+3]=0}return t},Filters.tmpCanvas=document.createElement("canvas"),Filters.tmpCtx=Filters.tmpCanvas.getContext("2d"),Filters.createImageData=function(t,e){return this.tmpCtx.createImageData(t,e)};var c=new Image,l=new Image,u=new Image;c.src=$(".large-dims > img").attr("src"),l.src=$(".sm-dims > img:first").attr("src"),u.src=$(".sm-dims > img:last").attr("src"),c.onload=function(){l.onload=function(){u.onload=function(){var t=$($(".color-ui-block")[0]),a=t.attr("data-ui-color-code");$("[data-ui-color-change]").each(function(t,e){e=$(e),e.css(e.attr("data-ui-color-change"),a)}),e("bigImageCanvas",c,function(t){return Filters.changeColor(t,a)}),e("smImageCanvas1",l,function(t){return Filters.changeColor(t,a)}),e("smImageCanvas2",u,function(t){return Filters.changeColor(t,a)})}}}});var viewer;