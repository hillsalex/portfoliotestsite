$(document).ready(function(){function e(){var e=$("inline"),n=setInterval(function(){0!=e.children().length&&(clearInterval(n),t(g),a(),$("#front").attr("set_bind","true"))},10)}function t(e){$("[data-ui-color-change]").each(function(t,n){n=$(n),n.css(n.attr("data-ui-color-change"),e)});var t=o(e);r(Number(t[0])/255,Number(t[1])/255,Number(t[2])/255),$(".noUi-handle").css("background-color",e),$(".noUi-target").css("background-color",e)}function n(e){e.click(function(e){var n=$(e.target);if(!n.hasClass("selected")){$(".color-ui-block").removeClass("selected"),n.addClass("selected");var a=n.attr("data-ui-color-code");g=a,t(a)}})}function a(){var e=$("#colorslider").val(),t=e/f,n=$("#verticalScale");n.attr("scale","1 "+t+" 1");var a=$(".smallImage1"),r=1/t;a.css("background-size",50*r+"% 100%"),a.css("left",50-50*r+"%"),$("#sm-height-text").text(e+" inches"),$("#height-text").text(e+" inches")}function r(e,t,n){for(var a=i(),r=0;r<a.length;r++)a[r].setAttribute("diffuseColor",e+" "+t+" "+n)}function i(){return $("#main3d-dev").find("material")}function o(e){var t=e.split("(")[1].split(")")[0];return t.split(",")}function l(){var e=Math.floor(Math.random()*(h-m)+m);$("#colorslider").val(e),c(),a()}function c(){var n=Math.floor(Math.random()*u);v=n;var a="models/tables/endTable"+n+".x3d",r="url(images/tables/endTable"+n+"-0.png)",i="url(images/tables/endTable"+n+"-1.png)";$("#threedidentifier").find("h2").text(d[v]);var o=Math.floor(Math.random()*x.length);x.removeClass("selected");var l=$(x[o]).attr("data-ui-color-code");$(x[o]).addClass("selected"),g=l,t(l),$("inline").empty(),$("inline").attr("url",a),$(".smallImage1").css("background-image",r),$(".smallImage2").css("background-image",i),e()}var d=["#0.72 0.0 1.43 -0.8 0.0 0.0 0.0 -0.13","#0.66 0.22 1.66 0.08 -0.12 0.58 0.96","#0.78 0.47 1.55 1.5 1.5 -0.6 -0.27 -0.53","#0.29 0.57 -0.48 0.06 -0.06 0.18 0.0 0.0","#0.73 -0.29 -1.16 -0.22 0.44 1.52 -0.67","#0.66 0.44 0.11 0.18 0.04 0.36 -0.88","#-0.84 1.05 -1.48 0.0 0.0 -0.0 -1.04","#0.0 1.6 0.0 1.26 -1.26 0.25 0.05 0.05","#-0.08 -0.05 0.18 0.16 0.41 -0.41 1.15","#0.87 0.73 1.89 1.69 -0.28 -0.56 0.0","#1.98 1.58 1.19 -0.34 -0.34 0.88 1.02","#0.05 -0.07 -0.18 0.37 2.25 -0.75 0.49","#0.0 1.14 -0.38 -0.43 -0.32 1.07 0.57","#0.9 0.9 1.27 -0.09 -0.53 -0.27 0.48","#-0.35 -1.77 0.0 -0.21 -0.21 0.52 -0.45","#-0.31 1.26 -0.94 0.69 0.0 -1.22 0.35","#-0.32 0.26 0.91 -2.0 2.0 1.0 -0.62 -0.94","#0.0 0.0 -0.0 -0.8 -0.8 -1.13 0.64","#0.21 0.21 1.16 0.0 0.89 -0.45 -0.0 -0.0","#0.5 1.25 -1.74 0.44 0.0 -0.67 -1.53"],s="rgb(146, 151, 66)",u=20,f=18,m=17,h=20,g=s,v=0,b=$(".menuHolder");$(".menuHolder").css("width",window.innerWidth+"px"),window.onresize=function(){$(".menuHolder").css("width",window.innerWidth+"px")},$("#colorslider").noUiSlider({start:f,orientation:"horizontal",range:{min:m,max:h},step:1,format:wNumb({decimals:0})}),$("#colorslider").on("slide",a),$(".noUi-handle").attr("data-ui-color-change","background-color"),$(".noUi-handle").addClass("no-before").addClass("no-after"),$("#menuButton").click(function(){"none"===b.css("display")?b.show():b.hide()}),$(".color-ui-block").each(function(e,t){n($(t))}),$("#main3d-dev").on("mousewheel",function(e){var t=0;t++,e.preventDefault()}),$(".randomizeButton").click(function(){l()}),$("#threedidentifier").find("h2").text(d[v]);var w=$(".right-arrow"),k=$(".left-arrow"),p=$(".imageSlider");w.click(function(){var e=$($(".slider-item")[0]).outerWidth(!0);p.animate({left:"-="+e},{duration:300,easing:"swing"})}),k.click(function(){var e=$($(".slider-item")[0]).outerWidth(!0);p.animate({left:"+="+e},{duration:300,easing:"swing"})}),M_PI=3.141592;var x=$(".color-ui-block");t(s),e()});